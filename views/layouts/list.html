{% extends "./default.html" %}

{% block content %}
<div class="wrap">
	<h2>{{ manifest.units|capitalize }}</h2>
	<ul class="actions">
		<li><a href="/{{ manifest.mount }}/new/">New</a></li>
	</ul>
	<table class="item-list">
		<thead>
			<tr>
				<th><input type="checkbox"></th>
				{% for field in manifest.listSpec.fields %}
					<th>{{ field.label }}</th>
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			{% for item in items %}
				<tr>
					<td><input type="checkbox"></td>
					{% for field in manifest.listSpec.fields %}
						{% if loop.index == 1 %}
							<td><a href="/{{ manifest.mount }}/edit/{{ item._id.toString() }}/">{{ item[field.name] }}</a></td>
						{% else %}
							<td>{{ item[field.name] }}</td>
						{% endif %}
					{% endfor %}
				</tr>
			{% endfor %}
			{% if !items.length %}
				<tr class="empty-set">
					<td colspan="{{ manifest.listSpec.fields.length + 1 }}">
						{% if error %}
							{{ error }}
						{% else %}
							No {{ units|lower }} found, would you like to <a href="/{{ manifest.mount }}/new/">create one</a>?
						{% endif %}
					</td>
				</tr>
			{% endif %}
		</tbody>
	</table>
</div>
{% endblock %}
